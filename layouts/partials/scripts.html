<!-- Options for main script -->
{{ $buildOptions := (dict 
  "bundle" true
  "format" "iife"
  "targetPath" "js/dict.min.js" 
  "minify" true) }}
{{ if .Site.IsServer }}
  {{ $buildOptions = (dict
    "bundle" true
    "format" "iife"
    "targetPath" "js/dict.js"
    "minify" false
    "sourceMap" "inline") }}
<!-- Get main JS -->
{{ end }}
{{- $diccionarioScript := resources.Get "js/diccionario.js" | js.Build $buildOptions | resources.Fingerprint "sha384" -}}

  <!-- Load diccionario script -->
  <script src='{{ $diccionarioScript.RelPermalink  }}' integrity='{{ $diccionarioScript.Data.Integrity }}' defer></script>

<!-- Load Google Analytics if not is localhost -->
{{ if not .Site.IsServer }}
  {{ with .Site.GoogleAnalytics }}
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ . }}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', '{{ . }}');
    </script>
  {{ end }}
{{ end }}
